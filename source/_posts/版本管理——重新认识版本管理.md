title: 版本管理——重新认识版本管理
author: LanGaoBai
author_id: defaultAuthorId
language: zh-CN
tags:
  - 版本
  - 管理
categories:
  - 版本管理
date: 2018-04-19 17:41:00
---

#### 为什么要重新认识？

我想大多数的人，在最开始的时候，进入编程这块以后，很快由别人带领之下使用了SVN、GIT等的版本管理工具；

对于如何使用，在多次练习的情况下，对与版本管理有了不小的心得；

更甚者已经是玩得飞起了，但是我要说的是，我不是，我只用了很多基础的功能，还有更多的东西等待我去挖掘；

但我相信很多人虽然对版本管理软件很熟悉，但是对于版本管理这个概念还是很陌生，不知道它的真正用处。

而没有学过的版本管理的人，那么这篇文章将带你认真了解版本管理；

#### 为什么要使用版本管理

```txt
需求第一版.md
需求第二版.md
需求第二版修改小部分.md
需求第二版修改大部分.md
需求第二版终极版.md
需求究极版.md
需求究极版再改.md
```

请问，同志，上面的需求版本究竟有几个？他发布了几个？改动了多少？

这是一个很头疼的问题，你根本不清楚他的一个版本变化过程，在比较上也很困难（难道你一个个文件打开了进行比对？）

如果说究极版再改部分需要前面的第二版的某部分已经删除了，你是不是得一段段的查找？

你修改的时候不希望破坏掉修改前的状态，最好就是每修改一段事件，能够保存一个状态，类似系统的自动快照一样，当后面出现问题的时候，可以自由选择复原到之前的某个快照状态； [^博客园]

还有一个原因，那就是，最后发布软件的时候很多时候会有多个版本，而生成软件的源代码却往往只有一份，只是在最后编译生成的时候用到不同的部分，大部分代码还是共用的，所以往往需要版本控制，几个版本复制几个文件夹出来； [^博客园]

版本控制的过程也是过程追踪记录，成就达成的过程。 [^博客园]



##### 标准定义[^百度百科]

版本管理是为满足不同需求，对同一产品或系统进行局部的改进 和改型所产生的产品或系统系列的变更情况进行记录、跟 踪、维护和控制的过程。 

主要功能：

1. **集中管理**档案，安全授权机制：档案集中地存放在服务器上，经**系统管理员**授权给各个用户。用户通过check in和check out的方式访问服务器上的文件，未经授权的用户则无法访问服务器上的文件;
2. 软件版本升级管理：每次登入时，在服务器上都会生成新的版本，任何版本都可以随时检出编辑;
3. 加锁功能：在文件更新时保护文件，避免不同的用户更改同一文件时发生冲突;
4. 提供不同版本源程序的比较;



##### 使用定义[^CSDN博客]

1. 数据备份；
2. 版本管理，避免版本管理换乱
3. 提高代码质量；
4. 提高协同、多人开发的效率；
5. 明确分工责任；

既然知道了版本管理如此重要，那么大家又是使用什么方式进行版本管理的呢？

这就不得不提到的，版本管理发展历程；

#### 版本发展历程

##### 手工帐

最早的时候，我相信，还没有推出现有的版本管理工具的时候，使用的就是手工帐的方式，分别记录各个文件到了哪个版本；

其实就现有的版本工具而言，只能做到文本式的版本管理，而对应的二进制文件，或者其他的设计图片类文件，还无法使用版本管理工具进行管理；

只能是依然采用手工帐的方式，当然在计算机的软硬件发展的情况下，就算是手工帐也比之前的手工帐方便许多；

##### 早期VCS阶段[^纵一苇]

这类系统要求系统的用户必须登录到版本库所在的服务器才能访问版本库。            

局限性：存在可扩展性方面的问题。

##### 集中式VCS阶段 [^纵一苇]

CVS和SVN解决上述早期版本控制工具的可扩展性问题。

这类版本控制工具允许程序员通过网络来获取版本库中的代码，并且在修改之后提交回来。

这类系统解决可扩展性问题是通过客户端来解决的，客户端可以有无数个，但是版本库所在的服务端也还是只有一个，客户端可以随意安装，这样就解决了可扩展性的问题。           

具体的使用方法：每一个程序员在本地有一个工作目录树，其内容是该版本库中最新的代码。当他们在工作目录树中完成代码修改之后，就把改动提交会该代码库。           

局限性：在本地工作目录树中只会看到代码的最新版本，如果想要查询历史修改记录，就必须与服务器上的版本库打交道。

这样要和远程的版本库打交道，就必须使用网络，但是即使今天的互联网处于永不断线的状态，有的时候还是不能上网。

所以分布式版本控制工具就解决了这个问题，以git为代表的分布式版本控制工具使每个用户在本地都有自己的版本库，而不是连接到公共服务器上的一个公共版本库中去。

##### 分布式版本控制工具阶段 [^纵一苇]

所有的版本控制工具都存储在本地版本库中，向版本库提交代码无需链接远程版本库，所有的历史记录都存储在本地版本库中，向版本库提交代码无须连接远程版本库，而是所有的版本数据都存放在本地版本库中。          

 分布式版本控制工具程序员之间如何传递各自的修改，如何同步呢？程序员还是将修改上传到项目的主版本库中去。

有两种实现方式：

1. 通过git的push操作直接把修改上传到主版本库；
2. 生成包含少量修改的补丁包，把补丁包提交给项目维护人员，再由项目维护人员更新主版本库。  

如果想了解更多的，可以看看[版本管理三国志](http://www.cnblogs.com/vamei/archive/2013/02/21/2918069.html)，这篇博主对于版本管理有着更深刻的认识；

在知道这些以后，那么我们选择哪款软件，或者说选择什么样的管理方式呢？

#### 版本控制软件分类

##### 集中式版本管理

集中式顾名思义就是代码集中到服务器，用的时候每个人把自己需要的被授权的那部分代码下载到自己的计算机上；

提交也是最后提交到服务器上，服务器可以对代码做很好的控制，但是需要有网络，网络断了，就没法工作了。  

代表就是SVN,Team Foundation等 

##### 分布式版本控制

分布式自然就是每个人的地方多有一份完全的代码，提交和管理都是在本地进行；

虽然有远端仓库，不过那是最终提交用的，没联网本地也是完整代码的，只是每次需要最新的代码的时候才必须联网；

分布式的代表就是git，对应的网上仓库比较有名的就是github. 

---

在清楚的了解这么多之后，我们就要落到实处了，那么究竟如何管理好我们手头上的代码，**如何有效的进行版本管理呢**？

我想这才是大家关心的重点，也是我为什么需要重新认识版本管理这个概念；

这里我先留个空，后面来填写这个坑，我会着重**SVN**,**GIT**这两个具有代表性的版本控制工具进行深入的了解和体会。

[^纵一苇]: https://www.cnblogs.com/zhangzl419/p/4280202.html
[^博客园]: https://www.cnblogs.com/newlifechou/p/8196395.html
[^百度百科]: https://baike.baidu.com/item/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/2511538?fr=kg_qa
[^CSDN博客]: https://blog.csdn.net/cfj68583589/article/details/8523173